<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="721px" height="461px" viewBox="-0.5 -0.5 721 461" content="&lt;mxfile host=&quot;app.diagrams.net&quot;&gt;&lt;diagram name=&quot;HR-ITSM-Architecture&quot; id=&quot;hr-itsm-arch&quot;&gt;&lt;mxGraphModel dx=&quot;1024&quot; dy=&quot;768&quot; grid=&quot;1&quot; gridSize=&quot;10&quot; guides=&quot;1&quot; tooltips=&quot;1&quot; connect=&quot;1&quot; arrows=&quot;1&quot; fold=&quot;1&quot; page=&quot;1&quot; pageScale=&quot;1&quot; pageWidth=&quot;720&quot; pageHeight=&quot;460&quot; math=&quot;0&quot; shadow=&quot;0&quot;&gt;&lt;root&gt;&lt;mxCell id=&quot;0&quot;/&gt;&lt;mxCell id=&quot;1&quot; parent=&quot;0&quot;/&gt;&lt;/root&gt;&lt;/mxGraphModel&gt;&lt;/diagram&gt;&lt;/mxfile&gt;">
  <defs/>

  <!-- Background -->
  <rect fill="#ffffff" width="720" height="460" x="0" y="0"/>

  <!-- HR System Box -->
  <rect x="20" y="120" width="140" height="80" rx="8" ry="8" fill="#dae8fc" stroke="#6c8ebf" stroke-width="2"/>
  <text x="90" y="152" font-family="Helvetica" font-size="14" font-weight="bold" text-anchor="middle" fill="#333">HR System</text>
  <text x="90" y="172" font-family="Helvetica" font-size="12" text-anchor="middle" fill="#666">(Workday)</text>

  <!-- ServiceNow Container -->
  <rect x="240" y="20" width="460" height="420" rx="12" ry="12" fill="#f5f5f5" stroke="#999" stroke-width="2" stroke-dasharray="5,3"/>
  <text x="470" y="45" font-family="Helvetica" font-size="16" font-weight="bold" text-anchor="middle" fill="#333">ServiceNow</text>

  <!-- Scripted REST API Box -->
  <rect x="280" y="100" width="160" height="70" rx="6" ry="6" fill="#d5e8d4" stroke="#82b366" stroke-width="2"/>
  <text x="360" y="128" font-family="Helvetica" font-size="12" font-weight="bold" text-anchor="middle" fill="#333">Scripted REST API</text>
  <text x="360" y="148" font-family="Helvetica" font-size="11" text-anchor="middle" fill="#666">+ OAuth 2.0</text>

  <!-- Import Set Box -->
  <rect x="500" y="100" width="160" height="70" rx="6" ry="6" fill="#fff2cc" stroke="#d6b656" stroke-width="2"/>
  <text x="580" y="128" font-family="Helvetica" font-size="12" font-weight="bold" text-anchor="middle" fill="#333">Import Set</text>
  <text x="580" y="148" font-family="Helvetica" font-size="11" text-anchor="middle" fill="#666">(Staging Table)</text>

  <!-- Transform Map Box -->
  <rect x="500" y="220" width="160" height="90" rx="6" ry="6" fill="#e1d5e7" stroke="#9673a6" stroke-width="2"/>
  <text x="580" y="248" font-family="Helvetica" font-size="12" font-weight="bold" text-anchor="middle" fill="#333">Transform Map</text>
  <text x="580" y="268" font-family="Helvetica" font-size="10" text-anchor="middle" fill="#666">• Field mapping</text>
  <text x="580" y="283" font-family="Helvetica" font-size="10" text-anchor="middle" fill="#666">• Manager lookup</text>
  <text x="580" y="298" font-family="Helvetica" font-size="10" text-anchor="middle" fill="#666">• Coalesce: Employee ID</text>

  <!-- sys_user Box -->
  <rect x="500" y="360" width="160" height="60" rx="6" ry="6" fill="#f8cecc" stroke="#b85450" stroke-width="2"/>
  <text x="580" y="395" font-family="Helvetica" font-size="13" font-weight="bold" text-anchor="middle" fill="#333">sys_user</text>

  <!-- Scheduled Import Box -->
  <rect x="280" y="360" width="160" height="60" rx="6" ry="6" fill="#dae8fc" stroke="#6c8ebf" stroke-width="2"/>
  <text x="360" y="385" font-family="Helvetica" font-size="12" font-weight="bold" text-anchor="middle" fill="#333">Scheduled Import</text>
  <text x="360" y="402" font-family="Helvetica" font-size="10" text-anchor="middle" fill="#666">(Reconciliation)</text>

  <!-- Arrow: HR to Scripted REST API -->
  <path d="M 160 135 L 270 135" fill="none" stroke="#2d7600" stroke-width="2" stroke-miterlimit="10"/>
  <path d="M 278 135 L 268 130 L 270 135 L 268 140 Z" fill="#2d7600" stroke="#2d7600" stroke-width="2"/>
  <text x="215" y="125" font-family="Helvetica" font-size="10" text-anchor="middle" fill="#2d7600">REST / Kafka</text>

  <!-- Arrow: Scripted REST to Import Set -->
  <path d="M 440 135 L 490 135" fill="none" stroke="#333" stroke-width="2" stroke-miterlimit="10"/>
  <path d="M 498 135 L 488 130 L 490 135 L 488 140 Z" fill="#333" stroke="#333" stroke-width="2"/>

  <!-- Arrow: Import Set to Transform Map -->
  <path d="M 580 170 L 580 210" fill="none" stroke="#333" stroke-width="2" stroke-miterlimit="10"/>
  <path d="M 580 218 L 575 208 L 580 210 L 585 208 Z" fill="#333" stroke="#333" stroke-width="2"/>

  <!-- Arrow: Transform Map to sys_user -->
  <path d="M 580 310 L 580 350" fill="none" stroke="#333" stroke-width="2" stroke-miterlimit="10"/>
  <path d="M 580 358 L 575 348 L 580 350 L 585 348 Z" fill="#333" stroke="#333" stroke-width="2"/>

  <!-- Arrow: HR to Scheduled Import (Fallback) -->
  <path d="M 90 200 L 90 390 L 270 390" fill="none" stroke="#6c8ebf" stroke-width="2" stroke-miterlimit="10" stroke-dasharray="6,3"/>
  <path d="M 278 390 L 268 385 L 270 390 L 268 395 Z" fill="#6c8ebf" stroke="#6c8ebf" stroke-width="2"/>
  <text x="90" y="300" font-family="Helvetica" font-size="10" text-anchor="middle" fill="#6c8ebf" transform="rotate(-90, 90, 300)">Fallback: File/API</text>

  <!-- Arrow: Scheduled Import to Transform Map -->
  <path d="M 440 390 L 470 390 L 470 265 L 490 265" fill="none" stroke="#6c8ebf" stroke-width="2" stroke-miterlimit="10" stroke-dasharray="6,3"/>
  <path d="M 498 265 L 488 260 L 490 265 L 488 270 Z" fill="#6c8ebf" stroke="#6c8ebf" stroke-width="2"/>
  <text x="470" y="330" font-family="Helvetica" font-size="9" text-anchor="middle" fill="#6c8ebf">(same transform)</text>

  <!-- Legend -->
  <rect x="260" y="440" width="200" height="1" fill="none"/>
  <line x1="280" y1="448" x2="320" y2="448" stroke="#2d7600" stroke-width="2"/>
  <text x="330" y="452" font-family="Helvetica" font-size="9" fill="#333">Primary flow</text>
  <line x1="420" y1="448" x2="460" y2="448" stroke="#6c8ebf" stroke-width="2" stroke-dasharray="6,3"/>
  <text x="470" y="452" font-family="Helvetica" font-size="9" fill="#333">Fallback flow</text>

</svg>
